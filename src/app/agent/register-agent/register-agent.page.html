<ion-header>
  <ion-toolbar color="primary">
    <ion-title>{{'register-as-agent'|translate}}</ion-title>
    <ion-icon style="cursor: pointer;" slot="end" name="close" (click)="cancel()" padding-end></ion-icon>
  </ion-toolbar>
</ion-header>

<ion-content padding>

  <form #registerAgent="ngForm" (ngSubmit)="register()">
    <ion-grid *ngIf="countries">
      <ion-row justify-content-center>
        <ion-col align-self-left size-md="6" size-lg="5" size-xs="12">

          <ion-item padding-top>
            <ion-select (ionChange)="changeCountry($event)" name="country" placeholder="{{dataShow.country}}"
              okText="{{'ok' | translate}}" cancelText="{{'cancel' | translate}}" required padding-start>
              <ion-select-option *ngFor="let country of countries" [value]="country.id">{{country.name}}
              </ion-select-option>
            </ion-select>
            <!-- <ion-list *ngIf="! country.toutch && country.invalid" style="color: red; font-size: 12px;">
                  <ion-item lines="none" *ngIf="country.errors.required" padding-start>Country is required</ion-item>
                </ion-list> -->
          </ion-item>

          <ion-item padding-top>
            <ion-label color="dark" *ngIf="!states.length"> {{'state-msg' | translate}}</ion-label>
            <ion-select (ionChange)="changeStates($event)" *ngIf="states.length" placeholder="{{dataShow.state}}"
              okText="{{'ok' | translate}}" cancelText="{{'cancel' | translate}}" padding-start>
              <ion-select-option *ngFor="let state of states" [value]="state.id">{{state.name}}
              </ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item padding-top>
            <ion-label color="dark" *ngIf="!cities"> {{'city-msg' | translate}} </ion-label>
            <ion-select *ngIf="cities" #city_id="ngModel" ngModel okText="{{'ok' | translate}}"
              cancelText="{{'cancel' | translate}}" name="city_id" placeholder="{{dataShow.city}}" padding-start>
              <ion-select-option *ngFor="let city of cities" [value]="city.id">{{city.name}}
              </ion-select-option>
            </ion-select>
          </ion-item>


          <ion-item padding-top>
            <ion-label position="stacked">{{dataShow.Msg}} : </ion-label>
            <ion-input name="value" type="text" ngModel required>
            </ion-input>
          </ion-item>

          <ion-row>
            <ion-col>
              <ion-button color="primary" [disabled]='!registerAgent.valid ' size="large" type="submit" expand="block">
                {{'save'|translate}}
              </ion-button>
            </ion-col>
          </ion-row>

        </ion-col>
      </ion-row>
    </ion-grid>
  </form>

</ion-content>