<ion-header>
  <ion-toolbar color="primary">
    <ion-title>{{'add-address'|translate}}</ion-title>
    <ion-icon style="cursor: pointer;" slot="end" name="close" (click)="cancel()" padding-end></ion-icon>
  </ion-toolbar>
</ion-header>

<ion-content padding>

  <form #createAddress="ngForm" (ngSubmit)="addAddress()">
    <ion-grid *ngIf="countries">
      <ion-row justify-content-center>
        <ion-col align-self-left size-md="6" size-lg="5" size-xs="12">

          <ion-item padding-top>
            <ion-input name="user_email" type="email" placeholder="{{dataShow.user_email}}"
              [(ngModel)]="model.user_email" #user_email="ngModel" required padding-start minlength="3">
            </ion-input>
          </ion-item>

          <ion-item padding-top>
            <ion-input name="title" type="text" placeholder="{{dataShow.title}}" [(ngModel)]="model.title"
              #title="ngModel" [ngClass]="{ 'is-invalid': !title.toutch && title.invalid }" required padding-start
              minlength="3">
            </ion-input>
            <!-- <ion-list *ngIf="! title.toutch && title.invalid">
                <ion-label color="danger" *ngIf="title.errors.required" padding-start>Title is required</ion-label>
                <ion-label color="danger" *ngIf="title.errors.minlength" padding-start>Title must be at least 3 characters
                </ion-label>
              </ion-list> -->
          </ion-item>

          <ion-item padding-top>
            <ion-select (ionChange)="changeCountry($event)" name="country" placeholder="{{dataShow.country}}"
              [(ngModel)]="model.country" #country="ngModel"
              [ngClass]="{ 'is-invalid': !country.toutch && country.invalid }" okText="{{'ok' | translate}}"
              cancelText="{{'cancel' | translate}}" required padding-start>
              <ion-select-option *ngFor="let country of countries" [value]="country">{{country}}
              </ion-select-option>
            </ion-select>
            <!-- <ion-list *ngIf="! country.toutch && country.invalid" style="color: red; font-size: 12px;">
                <ion-item lines="none" *ngIf="country.errors.required" padding-start>Country is required</ion-item>
              </ion-list> -->
          </ion-item>

          <ion-item padding-top>
            <ion-label color="dark" *ngIf="!states.length"> {{'state-msg' | translate}}</ion-label>
            <ion-select (ionChange)="changeStates($event)" *ngIf="states.length" #state="ngModel" ngModel name="state"
              placeholder="{{dataShow.state}}" okText="{{'ok' | translate}}" cancelText="{{'cancel' | translate}}"
              padding-start>
              <ion-select-option *ngFor="let state of states" [value]="state">{{state}}
              </ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item padding-top>
            <ion-label color="dark" *ngIf="!cities"> {{'city-msg' | translate}} </ion-label>
            <ion-select *ngIf="cities" #city="ngModel" ngModel okText="{{'ok' | translate}}"
              cancelText="{{'cancel' | translate}}" name="city" placeholder="{{dataShow.city}}" padding-start>
              <ion-select-option *ngFor="let city of cities" [value]="city.name">{{city.name}}
              </ion-select-option>
            </ion-select>
          </ion-item>

          <ion-row>
            <ion-col>
              <ion-item padding-top>
                <ion-input name="street" type="text" placeholder="{{dataShow.street}}" [(ngModel)]="model.street"
                  #street="ngModel" [ngClass]="{ 'is-invalid': !street.toutch && street.invalid }" required
                  padding-start minlength="3">
                </ion-input>
                <!-- <ion-list *ngIf="! street.toutch && street.invalid" style="color: red; font-size: 12px;">
                    <ion-item lines="none" *ngIf="street.errors.required" padding-start>Street is required</ion-item>
                    <ion-item lines="none" *ngIf="street.errors.minlength" padding-start>Street must be at least 3
                      characters</ion-item>
                  </ion-list> -->
              </ion-item>
            </ion-col>

            <ion-col>
              <ion-item padding-top>
                <ion-input name="postal_code" type="text" placeholder="{{dataShow.postal_code}}"
                  [(ngModel)]="model.postal_code" #postal_code="ngModel"
                  [ngClass]="{ 'is-invalid': !postal_code.toutch && postal_code.invalid }" required padding-start
                  minlength="3">
                </ion-input>
                <!-- <ion-list *ngIf="! postal_code.toutch && postal_code.invalid" style="color: red; font-size: 12px;">
                    <ion-item lines="none" *ngIf="postal_code.errors.required" padding-start>Postal Code is required
                    </ion-item>
                    <ion-item lines="none" *ngIf="postal_code.errors.minlength" padding-start>Postal Code must be at
                      least
                      3 characters</ion-item>
                  </ion-list> -->
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              <ion-item padding-top>
                <ion-input #district="ngModel" name="district" type="text" placeholder="{{dataShow.district}}" ngModel
                  padding-start>
                </ion-input>
              </ion-item>
            </ion-col>

            <ion-col>
              <ion-item padding-top>
                <ion-input #building_num="ngModel" name="building_num" type="text"
                  placeholder="{{dataShow.building_num}}" ngModel padding-start></ion-input>
              </ion-item>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>
              <ion-button color="primary" [disabled]='!createAddress.valid ' size="large" type="submit" expand="block">
                {{'save'|translate}}
              </ion-button>
            </ion-col>
          </ion-row>

        </ion-col>
      </ion-row>
    </ion-grid>
  </form>

</ion-content>